<app-navbar></app-navbar>

<div class="home-container">
  <div class="header">
    <img 
      src="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/items/poke-ball.png" 
      alt="Pok√©bola" 
      class="pokedex-icon"
    />
    <div class="header-content">
      <h1>Pok√©dex Digital</h1>
      <p>Explore o mundo dos Pok√©mon com nossa Pok√©dex interativa. Descubra informa√ß√µes detalhadas sobre cada criatura.</p>
    </div>
  </div>

  <div class="filters">
    <div class="filter-group">
      <div class="input-wrapper">
        <img src="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/items/poke-ball.png" alt="Buscar" class="input-icon" />
        <input
          type="text"
          [(ngModel)]="searchName"
          placeholder="Buscar Pok√©mon por nome..."
          class="search-input"
          (keyup.enter)="onSearch()"
        />
      </div>
      <div class="input-wrapper">
        <img src="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/items/poke-ball.png" alt="ID" class="input-icon" />
        <input
          type="number"
          [(ngModel)]="searchId"
          placeholder="Buscar por ID (1-1025)..."
          class="search-input"
          min="1"
          max="1025"
          (keyup.enter)="onSearch()"
        />
      </div>
      <button class="btn-search" (click)="onSearch()">
        üîç Buscar
      </button>
    </div>

    <div class="filter-group">
      <div class="input-wrapper">
        <img src="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/items/rare-candy.png" alt="Gera√ß√£o" class="input-icon" />
        <select [(ngModel)]="selectedGeneration" (change)="onGenerationChange()" class="select-generation">
          <option value="">Todas as Gera√ß√µes</option>
          <option *ngFor="let gen of generations" [value]="gen">Gera√ß√£o {{ gen }}</option>
        </select>
      </div>
      <button class="btn-clear" (click)="clearFilters()">
        üîÑ Limpar
      </button>
    </div>
  </div>

  <div class="stats">
    <div class="stat-item">
      <img src="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/items/poke-ball.png" alt="Total" class="stat-icon-img" />
      <div class="stat-info">
        <span class="stat-value">{{ totalPokemons }}</span>
        <span class="stat-label">Total na Pok√©dex</span>
      </div>
    </div>
    <div class="stat-item">
      <img src="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/items/star-piece.png" alt="Favoritos" class="stat-icon-img" />
      <div class="stat-info">
        <span class="stat-value">{{ getFavoritosCount() }}</span>
        <span class="stat-label">Favoritos</span>
      </div>
    </div>
    <div class="stat-item">
      <img src="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/items/master-ball.png" alt="Equipe" class="stat-icon-img" />
      <div class="stat-info">
        <span class="stat-value">{{ getEquipeCount() }}/6</span>
        <span class="stat-label">Equipe</span>
      </div>
    </div>
  </div>

  <div *ngIf="isLoading" class="loading">
    <div class="spinner"></div>
    <p>Carregando Pok√©mons...</p>
  </div>

  <div *ngIf="errorMessage" class="error">
    {{ errorMessage }}
  </div>

  <div class="pokemon-grid" *ngIf="!isLoading && pokemons.length > 0">
    <app-pokemon-card
      *ngFor="let pokemon of pokemons"
      [pokemon]="pokemon"
      (toggleFavorito)="toggleFavorito($event)"
      (toggleEquipe)="toggleEquipe($event)"
    ></app-pokemon-card>
  </div>

  <div class="pagination" *ngIf="!isLoading && pokemons.length >= limit">
    <button class="btn-load-more" (click)="loadMore()">
      <img src="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/items/rare-candy.png" alt="Mais" class="btn-icon" />
      Carregar Mais Pok√©mons
    </button>
  </div>
</div>
